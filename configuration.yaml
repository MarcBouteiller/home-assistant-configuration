homeassistant:
  latitude: !secret zone.home.latitude
  longitude: !secret zone.home.longitude
  # Impacts weather/sunrise data (altitude above sea level in meters)
  elevation: 0
  # metric for Metric, imperial for Imperial
  unit_system: metric
  # Pick yours from here: http://en.wikipedia.org/wiki/List_of_tz_database_time_zones
  time_zone: Europe/Paris
  # Customization file
  customize: !include customize.yaml
  customize_glob: !include customize_glob.yaml
  whitelist_external_dirs:
    - /config/tmp
# Show links to resources in log and frontend
# introduction:

# Enables the frontend
frontend:

# Enables configuration UI
config:

http:
  # Secrets are defined in the file secrets.yaml
  api_password: !secret http_password
  base_url: !secret base_url
  # Uncomment this if you are using SSL/TLS, running in Docker container, etc.
  ssl_certificate: /ssl/fullchain.pem
  ssl_key: /ssl/privkey.pem

# Checks for available updates
# Note: This component will send some information about your system to
# the developers to assist with development of Home Assistant.
# For more information, please see:
# https://home-assistant.io/blog/2016/10/25/explaining-the-updater/
updater:
  # Optional, allows Home Assistant developers to focus on popular components.
  # include_used_components: true

# Discover some devices automatically
discovery:
  ignore:
    - google_cast

# Allows you to issue voice commands from the frontend in enabled browsers
conversation:

# Enables support for tracking state changes over time
history:

recorder:
  purge_keep_days: 60
  include:
    domains:
      - automation
      - input_boolean
      - light
      - media_player
      - sun
      - device_tracker
    entities:
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_2
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_3
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_4
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_5
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_6
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_7
      - sensor.fibaro_system_fgms001_motion_sensor_temperature
      - sensor.fibaro_system_fgsd002_smoke_sensor_temperature
      - binary_sensor.fibaro_system_fgms001_motion_sensor_sensor
      - sensor.broadlink_spx_power_sensor
      - switch.prise_garage
      - sensor.speedtest_download
      - sensor.speedtest_upload
      - sensor.fastcom_download
      - sensor.month_car_charge
      - sensor.day_car_charge

# View all events in a logbook
logbook:
  include:
    domains:
      - automation
      - input_boolean
      - light
      - media_player
      - sun
      - device_tracker
    entities:
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_2
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_3
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_4
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_5
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_6
      - cover.fibaro_system_fgrm222_roller_shutter_controller_2_level_7
      - switch.prise_garage

# Enables a map showing the location of tracked devices
map:

# Track the sun
sun:

mqtt: 

device_tracker:
  - platform: freebox
    host: !secret freebox_host
    port: !secret freebox_port
    track_new_devices: false

light:
  - platform: yeelight
    devices:
      192.168.0.9:
        name: Chambre Axelle
      192.168.0.2:
        name: Salon
      192.168.0.26:
        name: Bandeau LED

switch:
  - platform: broadlink
    host: 192.168.0.25
    mac: '34:EA:34:9D:27:5C'
    type: sp3
    friendly_name: Prise garage

cast:
  media_player:
    - host: 192.168.0.40
    - host: 192.168.0.41

# Text to speech
tts:
  - platform: google

notify:
  - name: html5
    platform: html5
    gcm_api_key: !secret gcm_api_key
    gcm_sender_id: !secret gcm_sender_id

# Cloud
cloud:

camera:
  - platform: generic
    name: Salon
    still_image_url: >
      {% if is_state('switch.neo_coolcam_power_plug_12a_switch_2','on') %}
        http://192.168.0.8/image.jpg
      {% else %}
        !secret camera_off_url
      {% endif %}
    limit_refetch_to_url_change: false

zwave:
  usb_path: /dev/ttyACM0

binary_sensor:
  - platform: workday
    country: FRA

panel_iframe:
  terminal:
    title: Terminal
    icon: mdi:console
    url: !secret term_url
    
input_boolean: !include input_boolean.yaml
input_number: !include input_number.yaml
sensor:  !include sensor.yaml
group: !include groups.yaml
automation: !include automations.yaml
script: !include scripts.yaml
zone: !include zones.yaml
